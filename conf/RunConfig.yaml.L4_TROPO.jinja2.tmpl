RunConfig:
  Name: OPERA-TROPO-PGE-CONFIG
  Groups:
    PGE:
      PGENameGroup:
        PGEName: TROPO_PGE
      InputFilesGroup:
        InputFilePaths:
          {%- for input in runconfig.input_file_group.input_file_paths %}
          - {{ input }}
          {%- endfor %}
      DynamicAncillaryFilesGroup:
        AncillaryFileMap: {}
      ProductPathGroup:
        OutputProductPath: {{ runconfig.product_path_group.product_path }}
        ScratchPath: {{ runconfig.product_path_group.scratch_path }}
      PrimaryExecutable:
        ProductIdentifier: TROPO 
        ProductVersion: "{{ runconfig.product_path_group.product_version }}"
        ProgramPath: opera_tropo 
        ProgramOptions:
          - run 
        ErrorCodeBase: 800000
        SchemaPath: /home/ops/opera/pge/tropo/schema/tropo_sas_schema.yaml
        AlgorithmParametersSchemaPath: ""
        IsoTemplatePath: "" 
      QAExecutable:
        Enabled: False
        ProgramPath: null
        ProgramOptions: []
      DebugLevelGroup:
        DebugSwitch: False
        ExecuteViaShell: True
    SAS:
      input_file:
        input_file_path: "{{ runconfig.input_file_group.input_file_paths[0] }}"
      primary_executable:
        product_type: OPERA_TROPO 
      product_path_group:
        product_path: {{ runconfig.product_path_group.product_path }}
        scratch_path: {{ runconfig.product_path_group.scratch_path }}
        sas_output_path: {{ runconfig.product_path_group.product_path }}
        product_version: "{{ runconfig.product_path_group.product_version }}"
      worker_settings:
        n_workers: {{ runconfig.processing.n_workers }} 
        threads_per_worker: {{ runconfig.processing.threads_per_worker }}
        max_memory: {{ runconfig.processing.max_memory }}
        dask_temp_dir: {{ runconfig.product_path_group.dask_temp_dir }}
        block_shape:
          - 128
          - 128 
      output_options:
        output_heights: 
          {%- for height in runconfig.output_options.output_heights %}
          - {{ height }}
          {%- endfor %} 
        max_height: 81000
        chunk_size:
          - 1
          - 64
          - 64
          - 64
        compression_kwargs:
          zlib: true 
          complevel: 5 
          shuffle: true 
      log_file: {{ runconfig.product_path_group.scratch_path }}/tropo.log
